<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>EcoQuest: Save the Planet Adventure</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            overflow-x: hidden;
        }

        .game-container {
            position: relative;
            width: 100vw;
            height: 100vh;
            overflow: hidden;
        }

        .scene {
            position: absolute;
            width: 100%;
            height: 100%;
            background-size: cover;
            background-position: center;
            transition: all 0.8s ease;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .forest-scene {
            background: linear-gradient(to bottom, #87CEEB 0%, #98FB98 40%, #228B22 100%);
        }

        .ocean-scene {
            background: linear-gradient(to bottom, #87CEEB 0%, #4682B4 50%, #191970 100%);
        }

        .city-scene {
            background: linear-gradient(to bottom, #FFB6C1 0%, #FFA500 50%, #808080 100%);
        }

        .arctic-scene {
            background: linear-gradient(to bottom, #E0F6FF 0%, #87CEEB 50%, #FFFFFF 100%);
        }

        .hud {
            position: absolute;
            top: 20px;
            left: 20px;
            right: 20px;
            z-index: 1000;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .stats {
            background: rgba(255, 255, 255, 0.9);
            padding: 15px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .stat {
            margin: 5px 0;
            font-weight: bold;
            color: #2c5530;
        }

        .health-bar, .eco-bar {
            width: 150px;
            height: 10px;
            background: #ddd;
            border-radius: 5px;
            overflow: hidden;
            margin-top: 5px;
        }

        .health-fill {
            height: 100%;
            background: linear-gradient(90deg, #ff6b6b, #4ecdc4);
            transition: width 0.3s ease;
        }

        .eco-fill {
            height: 100%;
            background: linear-gradient(90deg, #a8e6cf, #2ecc71);
            transition: width 0.3s ease;
        }

        .challenge-panel {
            position: absolute;
            bottom: 20px;
            left: 50%;
            transform: translateX(-50%);
            background: rgba(255, 255, 255, 0.95);
            padding: 25px;
            border-radius: 20px;
            box-shadow: 0 8px 30px rgba(0,0,0,0.3);
            max-width: 600px;
            width: 90%; /* makes it responsive */
            text-align: center;
            animation: slideUp 0.5s ease;
        }

            @keyframes slideUp {
                from { transform: translateX(-50%) translateY(100px); opacity: 0; }
                to { transform: translateX(-50%) translateY(0); opacity: 1; }
            }


        .challenge-title {
            color: #2c5530;
            font-size: 24px;
            margin-bottom: 15px;
            font-weight: bold;
        }

        .challenge-text {
            color: #555;
            margin-bottom: 20px;
            line-height: 1.6;
        }

        .options {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
            margin-top: 20px;
        }

        .option-btn {
            padding: 15px 20px;
            border: none;
            border-radius: 12px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            transition: all 0.3s ease;
            position: relative;
            overflow: hidden;
        }

        .option-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }

        .good-choice {
            background: linear-gradient(135deg, #a8e6cf, #2ecc71);
            color: white;
        }

        .bad-choice {
            background: linear-gradient(135deg, #ffb3b3, #ff6b6b);
            color: white;
        }

        .neutral-choice {
            background: linear-gradient(135deg, #ffd93d, #ff9500);
            color: white;
        }

        .ar-objects {
            position: absolute;
            width: 100%;
            height: 100%;
            pointer-events: none;
        }

        .floating-object {
            position: absolute;
            animation: float 3s ease-in-out infinite;
            cursor: pointer;
            pointer-events: all;
            transition: transform 0.3s ease;
        }

        .floating-object:hover {
            transform: scale(1.2);
        }

        @keyframes float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-20px) rotate(5deg); }
        }

        .tree {
            font-size: 60px;
            color: #228B22;
            animation-delay: 0s;
        }

        .fish {
            font-size: 40px;
            color: #4682B4;
            animation-delay: -1s;
        }

        .factory {
            font-size: 50px;
            color: #666;
            animation-delay: -2s;
        }

        .iceberg {
            font-size: 45px;
            color: #E0F6FF;
            animation-delay: -0.5s;
        }

        .progress-bar {
            position: absolute;
            bottom: 100px;
            left: 50%;
            transform: translateX(-50%);
            width: 300px;
            height: 15px;
            background: rgba(255,255,255,0.3);
            border-radius: 10px;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(90deg, #a8e6cf, #2ecc71);
            transition: width 0.5s ease;
            border-radius: 10px;
        }

        .level-indicator {
            position: absolute;
            top: 50%;
            right: 30px;
            transform: translateY(-50%);
            background: rgba(255,255,255,0.9);
            padding: 15px;
            border-radius: 50%;
            font-size: 24px;
            font-weight: bold;
            color: #2c5530;
            box-shadow: 0 4px 15px rgba(0,0,0,0.2);
        }

        .achievement {
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            background: linear-gradient(135deg, #ffd700, #ffed4e);
            color: #2c5530;
            padding: 20px 30px;
            border-radius: 20px;
            font-size: 20px;
            font-weight: bold;
            box-shadow: 0 10px 30px rgba(255, 215, 0, 0.4);
            z-index: 2000;
            animation: achievementPop 3s ease forwards;
        }

        @keyframes achievementPop {
            0% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
            20% { transform: translate(-50%, -50%) scale(1.1); opacity: 1; }
            80% { transform: translate(-50%, -50%) scale(1); opacity: 1; }
            100% { transform: translate(-50%, -50%) scale(0); opacity: 0; }
        }

        .start-screen {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            z-index: 1500;
            color: white;
            text-align: center;
        }

        .game-title {
            font-size: 48px;
            font-weight: bold;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.3);
        }

        .game-subtitle {
            font-size: 20px;
            margin-bottom: 40px;
            opacity: 0.9;
        }

        .start-btn {
            padding: 15px 40px;
            font-size: 20px;
            font-weight: bold;
            background: linear-gradient(135deg, #a8e6cf, #2ecc71);
            color: white;
            border: none;
            border-radius: 50px;
            cursor: pointer;
            transition: all 0.3s ease;
            box-shadow: 0 6px 20px rgba(0,0,0,0.2);
        }

        .start-btn:hover {
            transform: translateY(-3px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.3);
        }

        @keyframes ripple {
            0% {
                transform: translate(-50%, -50%) scale(1);
                opacity: 0.3;
            }
            100% {
                transform: translate(-50%, -50%) scale(20);
                opacity: 0;
            }
        }
    </style>
</head>
<body>
    <div class="game-container">
        <!-- Start Screen -->
        <div class="start-screen" id="startScreen">
            <div class="game-title">üåç EcoQuest</div>
            <div class="game-subtitle">Save the Planet Adventure</div>
            <p style="max-width: 500px; margin-bottom: 30px; line-height: 1.6;">
                Embark on an epic environmental adventure! Make crucial decisions that will determine the fate of our planet. Learn about ecology while having fun!
            </p>
            <button class="start-btn" onclick="startGame()">Start Adventure</button>
        </div>

        <!-- Game HUD -->
        <div class="hud" id="gameHUD" style="display: none;">
            <div class="stats">
                <div class="stat">Planet Health: <span id="healthValue">100</span>%</div>
                <div class="health-bar">
                    <div class="health-fill" id="healthFill" style="width: 100%"></div>
                </div>
                <div class="stat">Eco Score: <span id="ecoValue">0</span></div>
                <div class="eco-bar">
                    <div class="eco-fill" id="ecoFill" style="width: 0%"></div>
                </div>
            </div>
            <div class="level-indicator" id="levelIndicator">1</div>
        </div>

        <!-- Game Scene -->
        <div class="scene forest-scene" id="gameScene" style="display: none;">
            <div class="ar-objects" id="arObjects"></div>
        </div>

        <!-- Progress Bar -->
        <div class="progress-bar" id="progressBar" style="display: none;">
            <div class="progress-fill" id="progressFill" style="width: 0%"></div>
        </div>

        <!-- Challenge Panel -->
        <div class="challenge-panel" id="challengePanel" style="display: none;">
            <div class="challenge-title" id="challengeTitle"></div>
            <div class="challenge-text" id="challengeText"></div>
            <div class="options" id="optionsContainer"></div>
        </div>
    </div>

    <script>
        class EcoQuestGame {
            constructor() {
                this.level = 1;
                this.planetHealth = 100;
                this.ecoScore = 0;
                this.currentScene = 'forest';
                this.challengeIndex = 0;
                this.maxEcoScore = 1000;
                
                this.scenes = ['forest', 'ocean', 'city', 'arctic'];
                this.sceneObjects = {
                    forest: ['üå≥', 'ü¶ã', 'üêø', 'üå∏', 'üçÑ'],
                    ocean: ['üê†', 'üêô', 'üê¨', 'üåä', 'üêö'],
                    city: ['üè≠', 'üöó', 'üè¢', 'üí®', '‚ö°'],
                    arctic: ['üêß', '‚ùÑ', 'üóª', 'üêª‚Äç‚ùÑÔ∏è', 'üßä']
                };
                
                this.challenges = [
                    // Forest Challenges
                    {
                        scene: 'forest',
                        title: 'üå≥ Forest Protection',
                        text: 'You discover illegal logging in the ancient forest. The trees are 500 years old and home to rare species. What\'s your action?',
                        options: [
                            { text: 'Report to authorities immediately', type: 'good', score: 50, health: 5 },
                            { text: 'Start a social media campaign', type: 'neutral', score: 25, health: 2 },
                            { text: 'Ignore it, not your problem', type: 'bad', score: -25, health: -10 },
                            { text: 'Organize community protection', type: 'good', score: 75, health: 8 }
                        ]
                    },
                    {
                        scene: 'forest',
                        title: 'ü¶ã Biodiversity Crisis',
                        text: 'Butterfly populations have dropped 80% due to pesticides. Local farmers are struggling with crop pests. What\'s the best solution?',
                        options: [
                            { text: 'Introduce natural predators', type: 'good', score: 60, health: 6 },
                            { text: 'Use organic farming methods', type: 'good', score: 70, health: 7 },
                            { text: 'Continue with pesticides', type: 'bad', score: -30, health: -8 },
                            { text: 'Create butterfly sanctuaries', type: 'neutral', score: 40, health: 4 }
                        ]
                    },
                    // Ocean Challenges
                    {
                        scene: 'ocean',
                        title: 'üåä Ocean Plastic Crisis',
                        text: 'A massive plastic island threatens marine life. Fish are dying, and the ecosystem is collapsing. Choose your response:',
                        options: [
                            { text: 'Launch ocean cleanup project', type: 'good', score: 80, health: 10 },
                            { text: 'Ban single-use plastics', type: 'good', score: 90, health: 12 },
                            { text: 'Let nature handle it', type: 'bad', score: -40, health: -15 },
                            { text: 'Recycle plastic into fuel', type: 'neutral', score: 45, health: 5 }
                        ]
                    },
                    {
                        scene: 'ocean',
                        title: 'üê† Coral Reef Bleaching',
                        text: 'Rising ocean temperatures are killing coral reefs. 50% have already died. Marine species are losing their homes. Your move?',
                        options: [
                            { text: 'Create marine protected areas', type: 'good', score: 65, health: 8 },
                            { text: 'Develop heat-resistant corals', type: 'good', score: 85, health: 10 },
                            { text: 'Focus on other issues', type: 'bad', score: -35, health: -12 },
                            { text: 'Relocate marine species', type: 'neutral', score: 35, health: 3 }
                        ]
                    },
                    // City Challenges
                    {
                        scene: 'city',
                        title: 'üè≠ Air Pollution Emergency',
                        text: 'Smog levels are dangerous. Children can\'t play outside, and respiratory diseases are rising. The city needs immediate action:',
                        options: [
                            { text: 'Implement car-free days', type: 'good', score: 55, health: 7 },
                            { text: 'Switch to renewable energy', type: 'good', score: 95, health: 15 },
                            { text: 'Ignore the warnings', type: 'bad', score: -50, health: -18 },
                            { text: 'Install air purifiers', type: 'neutral', score: 30, health: 4 }
                        ]
                    },
                    {
                        scene: 'city',
                        title: 'üöó Traffic and Emissions',
                        text: 'Traffic congestion creates massive CO2 emissions. People spend hours stuck in traffic daily. What\'s your urban solution?',
                        options: [
                            { text: 'Build electric bus network', type: 'good', score: 70, health: 9 },
                            { text: 'Create bike-sharing program', type: 'good', score: 60, health: 6 },
                            { text: 'Build more roads', type: 'bad', score: -25, health: -8 },
                            { text: 'Encourage remote work', type: 'neutral', score: 45, health: 5 }
                        ]
                    },
                    // Arctic Challenges
                    {
                        scene: 'arctic',
                        title: 'üêß Melting Ice Caps',
                        text: 'Arctic ice is melting faster than ever. Polar bears and penguins are losing their habitat. Sea levels are rising globally.',
                        options: [
                            { text: 'Reduce global carbon emissions', type: 'good', score: 100, health: 20 },
                            { text: 'Create artificial icebergs', type: 'neutral', score: 40, health: 4 },
                            { text: 'Relocate arctic animals', type: 'neutral', score: 35, health: 3 },
                            { text: 'Nothing can be done', type: 'bad', score: -60, health: -25 }
                        ]
                    },
                    {
                        scene: 'arctic',
                        title: '‚ùÑ Permafrost Thaw',
                        text: 'Thawing permafrost releases methane, accelerating climate change. Ancient viruses might also be released. Critical decision time:',
                        options: [
                            { text: 'Global climate emergency plan', type: 'good', score: 120, health: 25 },
                            { text: 'Research methane capture', type: 'good', score: 80, health: 12 },
                            { text: 'Hope for the best', type: 'bad', score: -80, health: -30 },
                            { text: 'Focus on adaptation only', type: 'neutral', score: 20, health: 2 }
                        ]
                    }
                ];
            }

            startGame() {
                document.getElementById('startScreen').style.display = 'none';
                document.getElementById('gameHUD').style.display = 'flex';
                document.getElementById('gameScene').style.display = 'flex';
                document.getElementById('progressBar').style.display = 'block';
                
                this.updateScene();
                this.showNextChallenge();
                this.spawnARObjects();
            }

            updateScene() {
                const scene = document.getElementById('gameScene');
                scene.className = `scene ${this.currentScene}-scene`;
            }

            spawnARObjects() {
                const container = document.getElementById('arObjects');
                container.innerHTML = '';
                
                const objects = this.sceneObjects[this.currentScene];
                
                for (let i = 0; i < 5; i++) {
                    const obj = document.createElement('div');
                    obj.className = 'floating-object';
                    obj.innerHTML = objects[Math.floor(Math.random() * objects.length)];
                    obj.style.left = Math.random() * 80 + 10 + '%';
                    obj.style.top = Math.random() * 60 + 20 + '%';
                    obj.style.fontSize = (30 + Math.random() * 30) + 'px';
                    obj.style.animationDelay = Math.random() * 3 + 's';
                    
                    obj.onclick = () => {
                        this.collectObject(obj);
                    };
                    
                    container.appendChild(obj);
                }
            }

            collectObject(obj) {
                obj.style.transform = 'scale(0)';
                obj.style.opacity = '0';
                setTimeout(() => obj.remove(), 300);
                
                this.ecoScore += 5;
                this.updateHUD();
                this.showAchievement('Found eco-object! +5 points');
            }

            showNextChallenge() {
                if (this.challengeIndex >= this.challenges.length) {
                    this.endGame();
                    return;
                }

                const challenge = this.challenges[this.challengeIndex];
                
                // Update scene if needed
                if (challenge.scene !== this.currentScene) {
                    this.currentScene = challenge.scene;
                    this.updateScene();
                    this.spawnARObjects();
                    this.level++;
                    document.getElementById('levelIndicator').textContent = this.level;
                }

                document.getElementById('challengeTitle').textContent = challenge.title;
                document.getElementById('challengeText').textContent = challenge.text;
                
                const optionsContainer = document.getElementById('optionsContainer');
                optionsContainer.innerHTML = '';
                
                challenge.options.forEach((option, index) => {
                    const btn = document.createElement('button');
                    btn.className = `option-btn ${option.type}-choice`;
                    btn.textContent = option.text;
                    btn.onclick = () => this.makeChoice(option);
                    optionsContainer.appendChild(btn);
                }); 

                document.getElementById('challengePanel').style.display = 'block';
            }

            makeChoice(choice) {
                this.ecoScore += choice.score;
                this.planetHealth += choice.health;
                
                // Keep values in bounds
                this.planetHealth = Math.max(0, Math.min(100, this.planetHealth));
                this.ecoScore = Math.max(0, this.ecoScore);
                
                this.updateHUD();
                
                let message = '';
                if (choice.type === 'good') {
                    message = `Great choice! +${choice.score} eco points!`;
                } else if (choice.type === 'bad') {
                    message = 'Poor choice. Planet health decreased.';
                } else {
                    message = 'Okay choice. Could be better!';
                }
                
                this.showAchievement(message);
                
                document.getElementById('challengePanel').style.display = 'none';
                
                // Check game over conditions
                if (this.planetHealth <= 0) {
                    this.gameOver();
                    return;
                }
                
                setTimeout(() => {
                    this.challengeIndex++;
                    this.showNextChallenge();
                }, 2000);
            }

            updateHUD() {
                document.getElementById('healthValue').textContent = this.planetHealth;
                document.getElementById('ecoValue').textContent = this.ecoScore;
                document.getElementById('healthFill').style.width = this.planetHealth + '%';
                document.getElementById('ecoFill').style.width = (this.ecoScore / this.maxEcoScore * 100) + '%';
                document.getElementById('progressFill').style.width = (this.challengeIndex / this.challenges.length * 100) + '%';
            }

            showAchievement(text) {
                const achievement = document.createElement('div');
                achievement.className = 'achievement';
                achievement.textContent = text;
                document.body.appendChild(achievement);
                
                setTimeout(() => {
                    achievement.remove();
                }, 3000);
            }

            gameOver() {
                this.showAchievement('üö® GAME OVER! Planet Earth has died. Try again to save our world!');
                setTimeout(() => {
                    this.resetGame();
                }, 3000);
            }

            endGame() {
                let finalMessage = '';
                if (this.ecoScore >= 800 && this.planetHealth >= 80) {
                    finalMessage = 'üéâ AMAZING! You saved the planet! Eco-Hero status achieved!';
                } else if (this.ecoScore >= 500 && this.planetHealth >= 60) {
                    finalMessage = 'üëç Good job! You made a positive impact on the environment!';
                } else if (this.ecoScore >= 200) {
                    finalMessage = 'ü§î Not bad, but Earth needs more help. Try again for a better score!';
                } else {
                    finalMessage = 'üòî Earth is struggling. Learn more and try again to save our planet!';
                }
                
                this.showAchievement(finalMessage);
                setTimeout(() => {
                    this.resetGame();
                }, 4000);
            }

            resetGame() {
                this.level = 1;
                this.planetHealth = 100;
                this.ecoScore = 0;
                this.currentScene = 'forest';
                this.challengeIndex = 0;
                
                document.getElementById('gameHUD').style.display = 'none';
                document.getElementById('gameScene').style.display = 'none';
                document.getElementById('progressBar').style.display = 'none';
                document.getElementById('challengePanel').style.display = 'none';
                document.getElementById('startScreen').style.display = 'flex';
                
                this.updateHUD();
            }
        }

        const game = new EcoQuestGame();

        function startGame() {
            game.startGame();
        }

        // Add some interactive background elements
        document.addEventListener('click', function(e) {
            if (e.target.tagName !== 'BUTTON' && !e.target.classList.contains('floating-object')) {
                createRipple(e.pageX, e.pageY);
            }
        });

        function createRipple(x, y) {
            const ripple = document.createElement('div');
            ripple.style.position = 'absolute';
            ripple.style.left = x + 'px';
            ripple.style.top = y + 'px';
            ripple.style.width = '20px';
            ripple.style.height = '20px';
            ripple.style.background = 'rgba(255, 255, 255, 0.3)';
            ripple.style.borderRadius = '50%';
            ripple.style.transform = 'translate(-50%, -50%)';
            ripple.style.animation = 'ripple 0.6s ease-out forwards';
            ripple.style.pointerEvents = 'none';
            ripple.style.zIndex = '999';
            
            document.body.appendChild(ripple);
            
            setTimeout(() => ripple.remove(), 600);
        }
    </script>
</body>
</html>
